{"version":3,"file":"signIn.js","sources":["../../src/client/signIn.ts"],"sourcesContent":["export async function signIn(provider, data, config) {\n    if (data) {\n        const path = mergePath([\"/api/auth\", config?.basePath ?? null], `/callback/${provider}`);\n        const res = await fetch(path, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(data),\n        });\n        return await res.json();\n    }\n    let redirectUrl;\n    if (config?.redirectUrl) {\n        redirectUrl = config.redirectUrl;\n    }\n    else {\n        let $val;\n        if ($val) {\n            redirectUrl = `${$val.url.host}${$val.url.pathname}?${$val.url.searchParams}`;\n        }\n    }\n    const queryData = {\n        redirect: redirectUrl ?? \"/\",\n    };\n    const query = new URLSearchParams(queryData);\n    const path = mergePath([\"/api/auth\", config?.basePath ?? null], `/signin/${provider}?${query}`);\n    return path;\n}\n"],"names":[],"mappings":";;;;AAAO,eAAe,MAAM,CAAC,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE;AACrD,EAAE,IAAI,IAAI,EAAE;AACZ,IAAI,MAAM,KAAK,GAAG,SAAS,CAAC,CAAC,WAAW,EAAE,MAAM,EAAE,QAAQ,IAAI,IAAI,CAAC,EAAE,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;AAC9F,IAAI,MAAM,GAAG,GAAG,MAAM,KAAK,CAAC,KAAK,EAAE;AACnC,MAAM,MAAM,EAAE,MAAM;AACpB,MAAM,OAAO,EAAE;AACf,QAAQ,cAAc,EAAE,kBAAkB;AAC1C,OAAO;AACP,MAAM,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;AAChC,KAAK,CAAC,CAAC;AACP,IAAI,OAAO,MAAM,GAAG,CAAC,IAAI,EAAE,CAAC;AAC5B,GAAG;AACH,EAAE,IAAI,WAAW,CAAC;AAClB,EAAE,IAAI,MAAM,EAAE,WAAW,EAAE;AAC3B,IAAI,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;AACrC,GAKG;AACH,EAAE,MAAM,SAAS,GAAG;AACpB,IAAI,QAAQ,EAAE,WAAW,IAAI,GAAG;AAChC,GAAG,CAAC;AACJ,EAAE,MAAM,KAAK,GAAG,IAAI,eAAe,CAAC,SAAS,CAAC,CAAC;AAC/C,EAAE,MAAM,IAAI,GAAG,SAAS,CAAC,CAAC,WAAW,EAAE,MAAM,EAAE,QAAQ,IAAI,IAAI,CAAC,EAAE,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;AAClG,EAAE,OAAO,IAAI,CAAC;AACd;;;;"}